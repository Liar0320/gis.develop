!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=18)}([function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(8),s=function(){function t(t){this.componentType="map",this.onDblClick=i.noop,this.onPointerDrag=i.noop,this.onPointerMove=i.noop,this.onPostCompose=i.noop,this.onPostRender=i.noop,this.onPreCompose=i.noop,this.onPropertyChange=i.noop,this.onSingleClick=i.noop,this.onClick=i.noop,this.onMoveEnd=i.noop,this.controls=[],this.interactions=[],this.host=t}return t.prototype.$onInit=function(){var t=this;this.instance=new r.Map(this),this.instance.setTarget(this.host[0]),this.instance.on("click",(function(e){return t.onClick({event:e})})),this.instance.on("dblclick",(function(e){return t.onDblClick({event:e})})),this.instance.on("moveend",(function(e){return t.onMoveEnd({event:e})})),this.instance.on("pointerdrag",(function(e){return t.onPointerDrag({event:e})})),this.instance.on("pointermove",(function(e){return t.onPointerMove({event:e})})),this.instance.on("postcompose",(function(e){return t.onPostCompose({event:e})})),this.instance.on("postrender",(function(e){return t.onPostRender({event:e})})),this.instance.on("precompose",(function(e){return t.onPreCompose({event:e})})),this.instance.on("propertychange",(function(e){return t.onPropertyChange({event:e})})),this.instance.on("singleclick",(function(e){return t.onSingleClick({event:e})}))},t}();e.MapComponent=s;var a={bindings:{pixelRatio:"<?",keyboardEventTarget:"<?",onClick:"&?",onDblClick:"&?",onMoveEnd:"&?",onPointerDrag:"&?",onPointerMove:"&?",onPostcompose:"&?",onPostrender:"&?",onPreCompose:"&?",onPropertyChange:"&?",onRenderComplete:"&?",onSingleClick:"&?"},controller:["$element",s]};e.default=o({name:"aolMap"},a)},function(t,e){t.exports=angular},function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),o(n(21)),o(n(22)),o(n(23)),o(n(24))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this.componentType="source"}return t.prototype.$onDestroy=function(){this.host&&this.host.instance.setSource(null)},t.prototype._register=function(t){this.host&&this.host.instance.setSource(t)},t}();e.SourceComponent=o,e.sourceComponentConfig={bindings:{instance:"=?",attributions:"<?",attributionsCollapsible:"<?"}}},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(2),s=n(5),a=function(){function t(){this.componentType="style"}return t.prototype.$onInit=function(){if(this.featureHost)this.host=this.featureHost;else{if(!this.layerVectorHost)throw new Error("aol-style must be applied to a feature or a layer");this.host=this.layerVectorHost}this.instance=new s.Style(this),this.host.instance.setStyle(this.instance)},t.prototype.update=function(){this.host.instance.changed()},t.prototype.$onDestroy=function(){var t=this.host.instance.getStyle();t instanceof Array?t.splice(t.indexOf(this.instance),1):t=null,this.host.instance.setStyle(t)},t}();e.StyleComponent=a;var c={bindings:{geometry:"<?",fill:"<?",image:"<?",stroke:"<?",text:"<?",zIndex:"<?"},require:{layerVectorHost:"?^"+r.aolLayerVector.name,featureHost:"?^"+i.default.name},controller:[a]};e.aolStyle=o({name:"aolStyle"},c)},function(t,e){t.exports=ol.style},function(t,e){t.exports=ol.source},function(t,e){t.exports=ol.interaction},function(t,e){t.exports=ol},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(){function t(){this.componentType="layer"}return t.prototype.$onInit=function(){this.host=this.layerGroupComponent||this.mapComponent,null!==this.prerender&&void 0!==this.prerender&&this.instance.on("prerender",this.prerender),null!==this.postrender&&void 0!==this.postrender&&this.instance.on("postrender",this.postrender),this.host.instance.getLayers().push(this.instance)},t.prototype.$onDestroy=function(){this.host.instance.getLayers().remove(this.instance)},t.prototype.$onChanges=function(t){var e={};if(this.instance){for(var n in t)if(t.hasOwnProperty(n))switch(n){case"prerender":this.instance.un("prerender",t[n].previousValue),this.instance.on("prerender",t[n].currentValue);break;case"postrender":this.instance.un("postrender",t[n].previousValue),this.instance.on("postrender",t[n].currentValue);break;case"source":this.instance.setSource(t[n].currentValue);break;default:e[n]=t[n].currentValue}this.instance.setProperties(e,!1)}},t}();e.LayerComponent=i,e.layerComponentConfig={bindings:{opacity:"<?",visible:"<?",extent:"<?",zIndex:"<?",minResolution:"<?",maxResolution:"<?",className:"<?",prerender:"&?",postrender:"&?"},require:{mapComponent:"?^"+o.default.name,layerGroupComponent:"?^^aolLayerGroup"}}},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(14),s=function(){function t(){this.componentType="feature"}return t.prototype.$onInit=function(){this.instance=new i.Feature,void 0!==this.id&&this.instance.setId(this.id),this.host.instance.addFeature(this.instance)},t.prototype.$onDestroy=function(){this.host.instance.removeFeature(this.instance)},t.prototype.$onChanges=function(t){this.instance&&this.instance.setId(this.id)},t}();e.FeatureComponent=s;var a={bindings:{id:"<?"},require:{host:"^"+r.aolSourceVector.name},controller:["$element",s]};e.default=o({name:"aolFeature"},a)},function(t,e){t.exports=ol.layer},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n(5),s=function(){function t(){this.componentType="style-circle",this.radius=5}return t.prototype.$onInit=function(){if(!this.styleHost)throw new Error("aol-circle must be applied to a feature or a layer");this.host=this.styleHost},t.prototype.$postLink=function(){this.instance=new r.Circle(this),this.host.instance.setImage(this.instance)},t.prototype.update=function(){this.instance&&(this.instance=new r.Circle(this),this.host.instance.setImage(this.instance)),this.host.update()},t.prototype.$onDestroy=function(){this.host.instance.setImage(null)},t.prototype.$onChanges=function(t){this.instance&&t.radius&&this.instance.setRadius(t.radius.currentValue)},t}();e.styleCircleComponent=s;var a={bindings:{fill:"<?",radius:"<?",snapToPixel:"<?",stroke:"<?"},require:{styleHost:"?^"+i.aolStyle.name},controller:[s]};e.aolStyleCircle=o({name:"aolStyleCircle"},a)},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(0),s=function(){function t(){this.componentType="view",this.zoom=11,this.center=[104.06,30.67],this.zoomAnimation=!1}return t.prototype.$onInit=function(){this.instance=new i.View(this),this.host.instance.setView(this.instance)},t.prototype.$onChanges=function(t){var e={};if(this.instance){for(var n in t)if(t.hasOwnProperty(n)){switch(n){case"zoom":this.zoomAnimation?this.instance.animate({zoom:t[n].currentValue}):this.instance.setZoom(t[n].currentValue)}e[n]=t[n].currentValue}this.instance.setProperties(e,!1)}},t}();e.ViewComponent=s;var a={bindings:{constrainRotation:"<?",enableRotation:"<?",extent:"<?",maxResolution:"<?",minResolution:"<?",maxZoom:"<?",minZoom:"<?",resolution:"<?",resolutions:"<?",rotation:"<?",zoom:"<",zoomFactor:"<?",center:"<?",projection:"<?",zoomAnimation:"<?"},require:{host:"^"+r.default.name},controller:["$element",s]};e.default=o({name:"aolView"},a)},function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),o(n(20)),o(n(27)),o(n(28)),o(n(29)),o(n(30))},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(10),s=n(16),a=function(){function t(){this.componentType="geometry-linestring",this.change=i.noop}return t.prototype.$onInit=function(){var t=this;this.instance=new s.LineString([]),this.instance.on("change",(function(e){return t.change({event:e})})),this.host.instance.setGeometry(this.instance)},t.prototype.$onDestroy=function(){},t}();e.GeometryLinestringComponent=a;var c={bindings:{change:"&?"},require:{host:"^"+r.default.name},controller:[a]};e.aolGeometryLinestring=o({name:"aolGeometryLinestring"},c);var l=function(){function t(){this.componentType="geometry-point"}return t.prototype.$onInit=function(){this.instance=new s.Point([0,0]),this.host.instance.setGeometry(this.instance)},t.prototype.$onDestroy=function(){},t}();e.GeometryPointComponent=l;var u={bindings:{},require:{host:"^"+r.default.name},controller:[l]};e.aolGeometryPoint=o({name:"aolGeometryPoint"},u);var h=function(){function t(){this.componentType="geometry-polygon"}return t.prototype.$onInit=function(){this.instance=new s.Polygon([[[0,0],[1,0],[1,1]]]),this.host.instance.setGeometry(this.instance)},t}();e.GeometryPolygonComponent=h;var p={bindings:{},require:{host:"^"+r.default.name},controller:[h]};e.aolGeometryPolygon=o({name:"aolGeometryPolygon"},p)},function(t,e){t.exports=ol.geom},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n(5),s=function(){function t(){this.componentType="style-text"}return t.prototype.$onInit=function(){if(!this.host)throw new Error("aol-style-icon must be applied to a style component");this.instance=new r.Text(this),this.host.instance.setText(this.instance),this.host.update()},t.prototype.$onDestroy=function(){this.host.instance.setText(null),this.host.update()},t.prototype.$onChanges=function(t){this.instance&&(t.font&&this.instance.setFont(t.font.currentValue),t.offsetX&&this.instance.setOffsetX(t.offsetX.currentValue),t.offsetY&&this.instance.setOffsetY(t.offsetY.currentValue),t.scale&&this.instance.setScale(t.scale.currentValue),t.rotation&&this.instance.setRotation(t.rotation.currentValue),t.text&&this.instance.setText(t.text.currentValue),t.textAlign&&this.instance.setTextAlign(t.textAlign.currentValue),t.textBaseLine&&this.instance.setTextBaseline(t.textBaseLine.currentValue),this.host.update())},t}();e.styleTextComponent=s;var a={bindings:{font:"<?",maxAngle:"<?",offsetX:"<?",offsetY:"<?",overflow:"<?",placement:"<?",scale:"<?",rotateWithView:"<?",rotation:"<?",text:"<?",textAlign:"<?",textBaseline:"<?",fill:"<?",stroke:"<?",backgroundFill:"<?",backgroundStroke:"<?",padding:"<?"},require:{host:"?^"+i.aolStyle.name},controller:[s]};e.aolStyleText=o({name:"aolStyleText"},a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(19);o.module("app",[i.default.name]).run(["$log","$rootScope",function(t,e){t.log("项目启动"),e.map={click:function(){console.log(arguments)},pointermove:function(){},features:[],interaction:{drawend:function(){console.log(arguments),e.$apply((function(){e.map.once=!1}))}},once:!0,center:[120,24],zoom:6,layerGroup:{visible:!0},overlayer:{msg:"动态数据"},stroke:{width:10,lineDash:[],lineDashOffset:5,miterLimit:50},styleCircle:{radius:20,fill:"#FF0000"},styleIcon:{src:"https://ss0.bdstatic.com/94oJfD_bAAcT8t7mm9GUKT-xh_/timg?image&quality=100&size=b4000_4000&sec=1583685507&di=98d05a81529c7f119d619e4d5b572634&src=http://bpic.588ku.com/element_origin_min_pic/01/37/42/75573c4c4c4c3c6.jpg",opacity:.5,scale:.08,rotation:1},styleText:{text:"hello Word",offsetY:-40}},e.property=JSON.stringify(e.map),e.reset=function(){o.extend(e.map,JSON.parse(e.property))}}])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(13),s=n(10),a=n(2),c=n(14),l=n(15),u=n(31),h=n(33),p=n(37),f=n(38),y=n(47),d=o.module("aol",[]);[i.default,r.default,a.aolLayerTile,a.aolLayerVector,a.aolLayerWebgl,a.aolLayerGroup,c.aolSourceXyz,c.aolSourceOsm,c.aolSourceVector,c.aolSourceCluster,c.aolSourceTiledebug,s.default,l.aolGeometryLinestring,l.aolGeometryPoint,l.aolGeometryPolygon,u.aolCoordinate,u.aolCollectionCoordinates,h.aolStyle,h.aolStyleStroke,h.aolStyleCircle,h.aolStyleIcon,h.aolStyleText,h.aolStyleFill,p.aolOverlay,f.aolInteractionDefaults,y.aolInteractionDraw,f.aolInteractionModify,f.aolInteractionSelect,f.aolInteractionDraganddrop].forEach((function(t){!function(t){d.component(t.name,t)}(t)})),e.default=d},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),a=n(6),c=n(2),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.componentType="sourceXYZComponent",e}return i(e,t),e.prototype.$onInit=function(){t.prototype.decorate.call(this),this.instance=new a.XYZ(this),this._register(this.instance)},e.prototype.$onChanges=function(t){var e={};if(this.instance){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n].currentValue);this.instance.setProperties(e,!1),(t.hasOwnProperty("url")||t.hasOwnProperty("tileGrid"))&&this.$onInit()}},e}(n(26).SourceXYZExtend);e.SourceXYZComponent=l;var u={bindings:r(r({},s.sourceComponentConfig.bindings),{cacheSize:"<?",crossOrigin:"<?",opaque:"<?",projection:"<?",reprojectionErrorThreshold:"<?",minZoom:"<?",maxZoom:"<?",tileGrid:"<?",tileLoadFunction:"<?",tilePixelRatio:"<?",tileSize:"<?",tileUrlFunction:"<?",url:"<?",urls:"<?",wrapX:"<?",transition:"<?",zDirection:"<?"}),require:{host:"^"+c.aolLayerTile.name},controller:["$element",l]};e.aolSourceXyz=r({name:"aolSourceXyz"},u)},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(9),a=n(11),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.$onInit=function(){this.instance=new a.Tile(this),t.prototype.$onInit.call(this)},e.prototype.$onChanges=function(e){t.prototype.$onChanges.call(this,e)},e}(s.LayerComponent);e.LayerTileComponent=c;var l={bindings:r(r({},s.layerComponentConfig.bindings),{preload:"<?",useInterimTilesOnError:"<?"}),require:s.layerComponentConfig.require,controller:[c]};e.aolLayerTile=r({name:"aolLayerTile"},l)},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(9),a=n(11),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.componentType="LayerVectorComponent",e}return i(e,t),e.prototype.$onInit=function(){this.instance=new a.Vector(this),t.prototype.$onInit.call(this)},e.prototype.$onChanges=function(e){t.prototype.$onChanges.call(this,e)},e}(s.LayerComponent);e.LayerVectorComponent=c;var l={bindings:r(r({},s.layerComponentConfig.bindings),{renderOrder:"<?",renderBuffer:"<?",source:"<?",declutter:"<?",style:"<?",updateWhileAnimating:"<?",updateWhileInteracting:"<?"}),require:s.layerComponentConfig.require,controller:[c]};e.aolLayerVector=r({name:"aolLayerVector"},l)},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(9),a=n(11),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.componentType="LayerGroupComponent",e}return i(e,t),e.prototype.$onInit=function(){this.instance=new a.Group(this),t.prototype.$onInit.call(this)},e}(s.LayerComponent);e.LayerGroupComponent=c;var l={bindings:r({},s.layerComponentConfig.bindings),require:s.layerComponentConfig.require,controller:[c]};e.aolLayerGroup=r({name:"aolLayerGroup"},l)},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(9),a=n(25),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.componentType="LayerVectorComponent",e.style={symbol:{symbolType:"circle",size:6,color:"#CD853F",offset:[0,0]}},e}return i(e,t),e.prototype.$onInit=function(){this.instance=new a.default(this),t.prototype.$onInit.call(this)},e.prototype.$onChanges=function(e){t.prototype.$onChanges.call(this,e)},e}(s.LayerComponent);e.LayerWebglComponent=c;var l={bindings:r(r({},s.layerComponentConfig.bindings),{style:"<?",className:"<?",opacity:"<?",visible:"<?",extent:"<?",zIndex:"<?",minResolution:"<?",maxResolution:"<?",source:"<?",disableHitDetection:"<?"}),require:s.layerComponentConfig.require,controller:[c]};e.aolLayerWebgl=r({name:"aolLayerWebgl"},l)},function(t,e){t.exports=ol.layer.WebGLPoints},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(49),s=n(3),a=[156543.03392804097,78271.51696402048,39135.75848201024,19567.87924100512,9783.93962050256,4891.96981025128,2445.98490512564,1222.99245256282,611.49622628141,305.748113140705,152.8740565703525,76.43702828517625,38.21851414258813,19.109257071294063,9.554628535647032,4.777314267823516,2.388657133911758,1.194328566955879,.5971642834779395,.29858214173896974,.14929107086948487,.07464553543474244,.03732276771737122,.01866138385868561,.009330691929342804,.004665345964671402,.002332672982335701,.0011663364911678506,.0005831682455839253,.00029158412279196264,.00014579206139598132,7289603069799066e-20,3644801534899533e-20,18224007674497665e-21,9112003837248832e-21,4556001918624416e-21,2278000959312208e-21,1139000479656104e-21,5.69500239828052e-7,2.84750119914026e-7,1.42375059957013e-7,7.11875299785065e-8,3.559376498925325e-8],c=[1.40625,.703125,.3515625,.17578125,.087890625,.0439453125,.02197265625,.010986328125,.0054931640625,.00274658203125,.001373291015625,.0006866455078125,.00034332275390625,.000171661376953125,858306884765625e-19,4291534423828125e-20,21457672119140625e-21,10728836059570312e-21,5364418029785156e-21,2682209014892578e-21,1341104507446289e-21,6.705522537231445e-7,3.3527612686157227e-7,1.6763806343078613e-7,8.381903171539307e-8,4.190951585769653e-8,2.0954757928848267e-8,1.0477378964424133e-8,5.238689482212067e-9,2.6193447411060333e-9,1.3096723705530167e-9,6.548361852765083e-10,3.2741809263825417e-10,1.6370904631912708e-10,8185452315956354e-26,4092726157978177e-26,20463630789890885e-27,10231815394945443e-27,5115907697472721e-27,25579538487363607e-28,12789769243681803e-28,6394884621840902e-28,3197442310920451e-28],l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.decorate=function(){this.tileGrid&&!this.tileGrid.forEachTileCoord&&(this.tileGrid.resolutions||(this.tileGrid.resolutions="EPSG:4326"===this.projection?c:a),this.tileGrid=new r.default(this.tileGrid))},e}(s.SourceComponent);e.SourceXYZExtend=l},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),a=n(6),c=n(2),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.componentType="SourceOSMComponent",e}return i(e,t),e.prototype.$onInit=function(){this.instance=new a.OSM(this),this._register(this.instance)},e.prototype.ngOnChanges=function(t){var e={};if(this.instance){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n].currentValue);this.instance.setProperties(e,!1),t.hasOwnProperty("url")&&(this.instance=new a.OSM(this),this._register(this.instance))}},e}(s.SourceComponent);e.SourceOSMComponent=l;var u={bindings:r(r({},s.sourceComponentConfig.bindings),{cacheSize:"<?",crossOrigin:"<?",opaque:"<?",reprojectionErrorThreshold:"<?",maxZoom:"<?",tileLoadFunction:"<?",url:"<?",wrapX:"<?"}),require:{host:"^"+c.aolLayerTile.name},controller:[l]};e.aolSourceOsm=r({name:"aolSourceOsm"},u)},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),a=n(2),c=n(6),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.componentType="SourceVectorComponent",e}return i(e,t),e.prototype.$onInit=function(){if(this.layerVectorHost)this.host=this.layerVectorHost;else{if(!this.layerWebglHost)throw new Error("aol-source-vector must be applied to a Style or layerWebglHost or layerVectorHost component");this.host=this.layerWebglHost}this.instance=new c.Vector(this),this._register(this.instance)},e.prototype.$onChanges=function(t){var e={};if(this.instance){for(var n in t)if(t.hasOwnProperty(n))switch(n){case"features":this.instance.addFeatures(t[n].currentValue);break;default:e[n]=t[n].currentValue}this.instance.setProperties(e,!1)}},e}(s.SourceComponent);e.SourceVectorComponent=l;var u={bindings:r(r({},s.sourceComponentConfig.bindings),{features:"<?",format:"<?",loader:"<?",overlaps:"<?",strategy:"<?",url:"<?",useSpatialIndex:"<?",wrapX:"<?"}),require:{layerVectorHost:"^?"+a.aolLayerVector.name,layerWebglHost:"^?"+a.aolLayerWebgl.name},controller:[l]};e.aolSourceVector=r({name:"aolSourceVector"},u)},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),a=n(6),c=n(2),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.componentType="SourceClusterComponent",e}return i(e,t),e.prototype.$onInit=function(){this.source&&(this.instance=new a.Cluster(this),this._register(this.instance))},e.prototype.$onChanges=function(t){var e={};if(this.instance){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n].currentValue);this.instance.setProperties(e,!1),t.hasOwnProperty("source")&&(this.$onDestroy(),this.instance=new a.Cluster(this),this._register(this.instance))}else this.$onInit()},e}(s.SourceComponent);e.SourceClusterComponent=l;var u={bindings:r(r({},s.sourceComponentConfig.bindings),{distance:"<?",geometryFunction:"<?",source:"<",wrapX:"<?"}),require:{host:"^"+c.aolLayerVector.name},controller:["$element",l]};e.aolSourceCluster=r({name:"aolSourceCluster"},u)},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),a=n(6),c=n(2),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.componentType="SourceTiledebugComponent",e}return i(e,t),e.prototype.$onInit=function(){this.instance=new a.TileDebug(this),this._register(this.instance)},e.prototype.ngOnChanges=function(t){var e={};if(this.instance)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n].currentValue)},e}(s.SourceComponent);e.SourceTiledebugComponent=l;var u={bindings:r(r({},s.sourceComponentConfig.bindings),{projection:"<?",tileGrid:"<?",wrapX:"<?",zDirection:"<?"}),require:{host:"^"+c.aolLayerTile.name},controller:[l]};e.aolSourceTiledebug=r({name:"aolSourceTiledebug"},u)},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(15),s=n(32),a=n(13),c=n(0),l=function(){function t(){this.srid="EPSG:4326"}return t.prototype.$onInit=function(){if(this.geometryPointHost)this.host=this.geometryPointHost;else{if(!this.viewHost)throw new Error("aol-collection-coordinates must be a child of a geometry component");this.host=this.viewHost}this.$onChanges({})},t.prototype.$onChanges=function(t){var e,n,o;if(this.host&&i.isNumber(this.x)&&i.isNumber(this.y))switch(n=(e=this.map.instance.getView().getProjection())?e.getCode():"EPSG:3857",o=this.srid===n?[this.x,this.y]:s.transform([this.x,this.y],this.srid,n),this.host.componentType){case"geometry-point":this.host.instance.setCoordinates(o);break;case"view":this.host.instance.setCenter(o)}},t}();e.CoordinateComponent=l;var u={bindings:{x:"<",y:"<",srid:"<?"},require:{viewHost:"?^"+a.default.name,geometryPointHost:"?^"+r.aolGeometryPoint.name,map:"^"+c.default.name},controller:[l]};e.aolCoordinate=o({name:"aolCoordinate"},u);var h=function(){function t(){this.srid="EPSG:4326"}return t.prototype.$onInit=function(){if(this.geometryLinestring)this.host=this.geometryLinestring;else{if(!this.geometryPolygon)throw new Error("aol-collection-coordinates must be a child of a geometry component");this.host=this.geometryPolygon}this.$onChanges({})},t.prototype.$onChanges=function(t){var e,n,o;if(this.host&&this.coordinates instanceof Array)switch(e=this.map.instance.getView().getProjection(),n=e?e.getCode():"EPSG:3857",this.srid===n?o=this.coordinates:(o=[],this.coordinates.forEach(function(t){o.push(s.transform(t,this.srid,n))}.bind(this))),this.host.componentType){case"geometry-linestring":this.host.instance.setCoordinates(o);break;case"geometry-polygon":this.host.instance.setCoordinates([o]);break;default:throw new Error("aol-collection-coordinates' host is of unknown type: "+this.host.componentType)}},t}();e.CollectionCoordinatesComponent=h;var p={bindings:{coordinates:"<",srid:"<?"},require:{geometryPolygon:"?^"+r.aolGeometryPolygon.name,geometryLinestring:"?^"+r.aolGeometryLinestring.name,map:"^"+c.default.name},controller:[h]};e.aolCollectionCoordinates=o({name:"aolCollectionCoordinates"},p)},function(t,e){t.exports=ol.proj},function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),o(n(4)),o(n(34)),o(n(35)),o(n(12)),o(n(36)),o(n(17))},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),r=n(4),s=n(12),a=function(){function t(){this.componentType="style-stroke"}return t.prototype.$onInit=function(){if(this.styleCircleHost)this.host=this.styleCircleHost;else{if(!this.styleHost)throw new Error("aol-style must be applied to a feature or a layer");this.host=this.styleHost}switch(this.instance=new i.Stroke(this),this.host.componentType){case"style":this.host.instance.setStroke(this.instance);break;case"style-circle":this.host.stroke=this.instance}},t.prototype.$onDestroy=function(){switch(this.host.componentType){case"style":this.host.instance.setStroke(null);break;case"style-circle":this.host.stroke=null,this.host.update()}},t.prototype.$onChanges=function(t){if(this.instance){for(var e in t)if(t.hasOwnProperty(e))switch(e){case"color":this.instance.setColor(t[e].currentValue);break;case"lineCap":this.instance.setLineCap(t[e].currentValue);break;case"lineDash":this.instance.setLineDash(t[e].currentValue);break;case"lineDashOffset":this.instance.setLineDashOffset(t[e].currentValue);break;case"lineJoin":this.instance.setLineJoin(t[e].currentValue);break;case"miterLimit":this.instance.setMiterLimit(t[e].currentValue);break;case"width":this.instance.setWidth(t[e].currentValue)}this.host.update()}},t}();e.StrokeComponent=a;var c={bindings:{color:"<?",lineCap:"<?",lineJoin:"<?",lineDash:"<?",lineDashOffset:"<?",miterLimit:"<?",width:"<?"},require:{styleHost:"?^"+r.aolStyle.name,styleCircleHost:"?^"+s.aolStyleCircle.name},controller:[a]};e.aolStyleStroke=o({name:"aolStyleStroke"},c)},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n(5),s=n(12),a=n(17),c=function(){function t(){this.componentType="fill"}return t.prototype.$onInit=function(){if(this.styleTextHost)this.host=this.styleTextHost;else if(this.styleCircleHost)this.host=this.styleCircleHost;else{if(!this.styleHost)throw new Error("aol-style-fill must be applied to a Style or styleCircleHost or StyleText component");this.host=this.styleHost}switch(this.instance=new r.Fill(this),this.host.componentType){case"style":this.host.instance.setFill(this.instance);break;case"style-circle":this.host.fill=this.instance,this.host.update();break;case"style-text":this.host.instance.setFill(this.instance)}},t.prototype.$onDestroy=function(){switch(this.host.componentType){case"style":this.host.instance.setFill(null);break;case"style-circle":this.host.fill=this.instance,this.host.update();break;case"style-text":this.host.instance.setFill(null)}},t.prototype.$onChanges=function(t){if(this.instance)switch(this.instance=new r.Fill({color:t.color.currentValue}),this.host.componentType){case"style":this.host.instance.setStroke(this.instance);break;case"style-circle":this.host.fill=this.instance,this.host.update();break;case"style-text":this.host.instance.setFill(this.instance)}},t}();e.FillComponent=c;var l={bindings:{color:"<?"},require:{styleHost:"?^"+i.aolStyle.name,styleCircleHost:"?^"+s.aolStyleCircle.name,styleTextHost:"?^"+a.aolStyleText.name},controller:[c]};e.aolStyleFill=o({name:"aolStyleFill"},l)},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n(5),s=function(){function t(){this.componentType="style-icon"}return t.prototype.$onInit=function(){if(!this.host)throw new Error("aol-style-icon must be applied to a style component");this.instance=new r.Icon(this),this.host.instance.setImage(this.instance)},t.prototype.$onDestroy=function(){this.host.instance.setImage(null)},t.prototype.$onChanges=function(t){this.instance&&(t.opacity&&this.instance.setOpacity(t.opacity.currentValue),t.rotation&&this.instance.setRotation(t.rotation.currentValue),t.scale&&this.instance.setScale(t.scale.currentValue),t.src&&(this.instance=new r.Icon(this),this.host.instance.setImage(this.instance)),this.host.update())},t}();e.styleIconComponent=s;var a={bindings:{anchor:"<?",anchorOrigin:"<?",anchorXUnits:"<?",anchorYUnits:"<?",color:"<?",crossOrigin:"<?",img:"<?",offset:"<?",offsetOrigin:"<?",opacity:"<?",scale:"<?",rotateWithView:"<?",rotation:"<?",size:"<?",imgSize:"<?",src:"<?"},require:{host:"?^"+i.aolStyle.name},controller:[s]};e.aolStyleIcon=o({name:"aolStyleIcon"},a)},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(0),s=function(){function t(t){this.componentType="overlay",this.$element=t}return t.prototype.$onInit=function(){this.$element[0]&&(this.element=this.$element[0],this.instance=new i.Overlay(this),this.host.instance.addOverlay(this.instance))},t.prototype.$onChanges=function(t){var e={};if(this.instance){for(var n in t)e[n]=t[n].currentValue;this.instance.setProperties(e,!1)}},t.prototype.$onDestroy=function(){this.instance&&this.host.instance.removeOverlay(this.instance)},t}();e.OverlayComponent=s;var a={bindings:{id:"<?",element:"<?",offset:"<?",position:"<?",positioning:"<?",stopEvent:"<?",insertFirst:"<?",autoPan:"<?",autoPanAnimation:"<?",autoPanMargin:"<?",className:"<"},require:{host:"^"+r.default.name},controller:["$element",s]};e.aolOverlay=o({name:"aolOverlay"},a)},function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),o(n(39)),o(n(40)),o(n(41)),o(n(44))},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),r=n(0),s=function(){function t(){}return t.prototype.$onInit=function(){var t=this;this.instance=i.defaults(this),this.instance.forEach((function(e){return t.host.instance.addInteraction(e)}))},t.prototype.$onDestroy=function(){var t=this;this.instance.forEach((function(e){return t.host.instance.removeInteraction(e)}))},t}();e.DefaultInteractionComponent=s;var a={bindings:{altShiftDragRotate:"<?",onFocusOnly:"<?",doubleClickZoom:"<?",keyboard:"<?",mouseWheelZoom:"<?",shiftDragZoom:"<?",dragPan:"<?",pinchRotate:"<?",pinchZoom:"<?",zoomDelta:"<?",zoomDuration:"<"},require:{host:"^"+r.default.name},controller:["$element",s]};e.aolInteractionDefaults=o({name:"aolInteractionDefaults"},a)},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(0),s=n(7),a=function(){function t(){this.onModifyEnd=i.noop,this.onModifyStart=i.noop,this.onChange=i.noop,this.onChangeActive=i.noop,this.onPropertyChange=i.noop}return t.prototype.$onInit=function(){var t=this;this.source||this.features?(this.instance=new s.Modify(this),this.instance.on("change",(function(e){return t.onChange({event:e})})),this.instance.on("change:active",(function(e){return t.onChangeActive({event:e})})),this.instance.on("propertychange",(function(e){return t.onPropertyChange({event:e})})),this.instance.on("modifyend",(function(e){return t.onModifyEnd({event:e})})),this.instance.on("modifystart",(function(e){return t.onModifyStart({event:e})})),this.host.instance.addInteraction(this.instance)):console.error("The modify interaction requires features or a source")},t.prototype.$onChanges=function(t){var e={};if(this.instance){for(var n in t)if(t.hasOwnProperty(n))switch(n){case"source":this.$onDestroy(),this.$onInit();break;default:e[n]=t[n].currentValue}this.instance.setProperties(e,!1)}else this.$onInit()},t.prototype.$onDestroy=function(){this.host.instance.removeInteraction(this.instance)},t}();e.ModifyInteractionComponent=a;var c={bindings:{condition:"<",deleteCondition:"<?",insertVertexCondition:"<?",pixelTolerance:"<?",style:"<?",source:"<?",features:"<?",wrapX:"<?"},require:{host:"^"+r.default.name},controller:["$element",a]};e.aolInteractionModify=o({name:"aolInteractionModify"},c)},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),a=n(7),c=n(0),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onSelect=s.noop,e.onChange=s.noop,e.onPropertyChange=s.noop,e}return i(e,t),e.prototype.$onInit=function(){var e=this;this.host?(t.prototype.initCondition.call(this),this.instance=new a.Select(this),this.instance.on("select",(function(t){return e.onSelect({event:t})})),this.instance.on("change",(function(t){return e.onChange({event:t})})),this.instance.on("propertychange",(function(t){return e.onPropertyChange({event:t})})),this.host.instance.addInteraction(this.instance)):console.error("The select interaction requires map component")},e.prototype.$onChanges=function(t){var e={};if(this.instance){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n].currentValue);this.instance.setProperties(e,!1)}},e.prototype.$onDestroy=function(){this.host.instance.removeInteraction(this.instance)},e}(n(42).SelectInteractionExtend);e.SelectInteractionComponent=l;var u={bindings:{addCondition:"<",condition:"<?",layers:"<?",style:"<?",removeCondition:"<?",toggleCondition:"<?",multi:"<?",features:"<?",filter:"<?",wrapX:"<?",onChange:"&?",onSelect:"&?",onPropertyChange:"&?"},require:{host:"^"+c.default.name},controller:["$element",l]};e.aolInteractionSelect=r({name:"aolInteractionSelect"},u)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(43),r=function(){function t(){}return t.prototype.initCondition=function(){var t=this.condition;if("function"==typeof t)return t;switch(t){case"altKeyOnly":this.condition=i.altKeyOnly;break;case"altShiftKeysOnly":this.condition=i.altShiftKeysOnly;break;case"click":this.condition=i.click;break;case"doubleClick":this.condition=i.doubleClick;break;case"focus":this.condition=i.focus;break;case"mouseActionButton":this.condition=i.mouseActionButton;break;case"mouseOnly":this.condition=i.mouseOnly;break;case"noModifierKeys":this.condition=i.noModifierKeys;break;case"penOnly":this.condition=i.penOnly;break;case"platformModifierKeyOnly":this.condition=i.platformModifierKeyOnly;break;case"pointerMove":this.condition=i.pointerMove;break;case"primaryAction":this.condition=i.primaryAction;break;case"shiftKeyOnly":this.condition=i.shiftKeyOnly;break;case"singleClick":this.condition=i.singleClick;break;case"targetNotEditable":this.condition=i.targetNotEditable;break;case"touchOnly":this.condition=i.touchOnly;break;default:this.condition=i.click}},t}();e.SelectInteractionExtend=r,function(t){t.altKeyOnly="altKeyOnly",t.altShiftKeysOnly="altShiftKeysOnly",t.click="click",t.doubleClick="doubleClick",t.focus="focus",t.mouseActionButton="mouseActionButton",t.mouseOnly="mouseOnly",t.noModifierKeys="noModifierKeys",t.penOnly="penOnly",t.platformModifierKeyOnly="platformModifierKeyOnly",t.pointerMove="pointerMove",t.primaryAction="primaryAction",t.shiftKeyOnly="shiftKeyOnly",t.singleClick="singleClick",t.targetNotEditable="targetNotEditable",t.touchOnly="touchOnly"}(o||(o={}))},function(t,e){t.exports=ol.events.condition},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),a=n(7),c=n(0),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onAddFeatures=s.noop,e.onChange=s.noop,e.onPropertyChange=s.noop,e}return i(e,t),e.prototype.$onInit=function(){var e=this;this.host?(t.prototype.decorate.call(this,this),this.instance=new a.DragAndDrop(this),this.instance.on("addfeatures",(function(t){return e.onAddFeatures({event:t})})),this.instance.on("change",(function(t){return e.onChange({event:t})})),this.instance.on("propertychange",(function(t){return e.onPropertyChange({event:t})})),this.host.instance.addInteraction(this.instance)):console.error("The DragAndDrop interaction requires map component")},e.prototype.$onChanges=function(t){var e={};if(this.instance){for(var n in t)if(t.hasOwnProperty(n))switch(n){case"source":this.$onDestroy(),this.$onInit();break;default:e[n]=t[n].currentValue}this.instance.setProperties(e,!1)}},e.prototype.$onDestroy=function(){this.host.instance.removeInteraction(this.instance)},e}(n(45).DraganddropInteractionExtend);e.DraganddropInteractionComponent=l;var u={bindings:{formatConstructors:"<",source:"<?",projection:"<?",target:"<?",onChange:"&?",onAddFeatures:"&?",onPropertyChange:"&?"},require:{host:"^"+c.default.name},controller:[l]};e.aolInteractionDraganddrop=r({name:"aolInteractionDraganddrop"},u)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(46),i=function(){function t(){this.defaultFormat={GPX:o.GPX,GeoJSON:o.GeoJSON,IGC:o.IGC,KML:o.KML,TopoJSON:o.TopoJSON,EsriJSON:o.EsriJSON,GML:o.GML,IIIFInfo:o.IIIFInfo,MVT:o.MVT,OWS:o.OWS,Polyline:o.Polyline,WFS:o.WFS,WKT:o.WKT,WMSCapabilities:o.WMSCapabilities,WMSGetFeatureInfo:o.WMSGetFeatureInfo,WMTSCapabilities:o.WMTSCapabilities}}return t.prototype.decorate=function(t){t.formatConstructors&&(t.formatConstructors=this.getFormat(t.formatConstructors))},t.prototype.getFormat=function(t){var e=this;return t.map((function(t){if("function"==typeof t)return t;var n=e.defaultFormat[t];if(n)return n;throw new Error("DragandDrop不存在当前FeatureFormat")}))},t}();e.DraganddropInteractionExtend=i},function(t,e){t.exports=ol.format},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),a=n(7),c=n(0),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onChange=s.noop,e.onChangeActive=s.noop,e.onDrawEnd=s.noop,e.onDrawStart=s.noop,e.onPropertyChange=s.noop,e}return i(e,t),e.prototype.$onInit=function(){var e=this;t.prototype.init.call(this,this.type),this.instance=new a.Draw(this),this.instance.on("change",(function(t){return e.onChange({event:t})})),this.instance.on("change:active",(function(t){return e.onChangeActive({event:t})})),this.instance.on("drawend",(function(t){return e.onDrawEnd({event:t})})),this.instance.on("drawstart",(function(t){return e.onDrawStart({event:t})})),this.instance.on("propertychange",(function(t){return e.onPropertyChange({event:t})})),this.host.instance.addInteraction(this.instance)},e.prototype.$onChanges=function(t){var e={};if(this.instance){for(var n in t)if(t.hasOwnProperty(n))switch(n){case"source":this.$onDestroy(),this.$onInit();break;default:e[n]=t[n].currentValue}this.instance.setProperties(e,!1)}},e.prototype.$onDestroy=function(){this.host.instance.removeInteraction(this.instance)},e}(n(48).DrawInteractionExtend);e.DrawInteractionComponent=l;var u={bindings:{type:"<",clickTolerance:"<?",features:"<?",source:"<?",dragVertexDelay:"<?",snapTolerance:"<?",stopClick:"<?",maxPoints:"<?",minPoints:"<?",finishCondition:"<?",style:"<?",geometryFunction:"<?",geometryName:"<?",condition:"<?",freehand:"<?",freehandCondition:"<?",wrapX:"<?",onChange:"&?",onChangeActive:"&?",onDrawEnd:"&?",onDrawStart:"&?",onPropertyChange:"&?"},require:{host:"^"+c.default.name},controller:["$element",l]};e.aolInteractionDraw=r({name:"aolInteractionDraw"},u)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(16),i=function(){function t(){}return t.prototype.init=function(t){switch(t){case"Rectangle":this.__createRectangleParams();break;default:this.type=t}},t.prototype.__createRectangleParams=function(){this.maxPoints=2,this.type="LineString",this.geometryFunction=function(t,e){e||(e=new o.Polygon([]));var n=t[0],i=t[1];return e.setCoordinates([[n,[n[0],i[1]],i,[i[0],n[1]],n]]),e}},t}();e.DrawInteractionExtend=i},function(t,e,n){"use strict";n.r(e);var o,i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=function(t){function e(e){var n=this,o="Assertion failed. See https://openlayers.org/en/"+("v"+"6.2.1".split("-")[0])+"/doc/errors/#"+e+" for details.";return(n=t.call(this,o)||this).code=e,n.name="AssertionError",n.message=o,n}return i(e,t),e}(Error);function s(t,e){if(!t)throw new r(e)}var a=function(){function t(t,e,n,o){this.minX=t,this.maxX=e,this.minY=n,this.maxY=o}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function c(t,e,n,o,i){return void 0!==i?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=o,i):new a(t,e,n,o)}var l=a;function u(t,e){return t>e?1:t<e?-1:0}function h(t,e,n,o,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=o,i):[t,e,n,o]}function p(t){return[t[0],t[3]]}"cosh"in Math&&Math.cosh;function f(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}function y(t,e,n,o){return void 0!==o?(o[0]=t,o[1]=e,o[2]=n,o):[t,e,n]}var d=[0,0,0],m=function(){function t(t){var e,n,o,i;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,s((e=this.resolutions_,n=!0,o=function(t,e){return e-t}||u,e.every((function(t,i){if(0===i)return!0;var r=o(e[i-1],t);return!(r>0||n&&0===r)}))),17),!t.origins)for(var r=0,a=this.resolutions_.length-1;r<a;++r)if(i){if(this.resolutions_[r]/this.resolutions_[r+1]!==i){i=void 0;break}}else i=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=i,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,s(this.origins_.length==this.resolutions_.length,20));var c=t.extent;void 0===c||this.origin_||this.origins_||(this.origin_=p(c)),s(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,s(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:256,s(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==c?c:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){return new l(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))}),this):c&&this.calculateTileRanges_(c)}return t.prototype.forEachTileCoord=function(t,e,n){for(var o=this.getTileRangeForExtentAndZ(t,e),i=o.minX,r=o.maxX;i<=r;++i)for(var s=o.minY,a=o.maxY;s<=a;++s)n([e,i,s])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,o){var i,r,s=null,a=t[0]-1;for(2===this.zoomFactor_?(i=t[1],r=t[2]):s=this.getTileCoordExtent(t,o);a>=this.minZoom;){if(e(a,2===this.zoomFactor_?c(i=Math.floor(i/2),i,r=Math.floor(r/2),r,n):this.getTileRangeForExtentAndZ(s,a,n)))return!0;--a}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var o=2*t[1],i=2*t[2];return c(o,o+1,i,i+1,e)}var r=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(r,t[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(t,e,n){var o=this.getOrigin(t),i=this.getResolution(t),r=f(this.getTileSize(t),this.tmpSize_),s=o[0]+e.minX*r[0]*i,a=o[0]+(e.maxX+1)*r[0]*i;return h(s,o[1]+e.minY*r[1]*i,a,o[1]+(e.maxY+1)*r[1]*i,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var o=d;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,o);var i=o[1],r=o[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,o),c(i,o[1],r,o[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),o=f(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*o[0]*n,e[1]-(t[2]+.5)*o[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),o=this.getResolution(t[0]),i=f(this.getTileSize(t[0]),this.tmpSize_),r=n[0]+t[1]*i[0]*o,s=n[1]-(t[2]+1)*i[1]*o;return h(r,s,r+i[0]*o,s+i[1]*o,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,o,i){var r=this.getZForResolution(n),s=n/this.getResolution(r),a=this.getOrigin(r),c=f(this.getTileSize(r),this.tmpSize_),l=o?.5:0,u=o?.5:0,h=Math.floor((t-a[0])/n+l),p=Math.floor((a[1]-e)/n+u),d=s*h/c[0],m=s*p/c[1];return o?(d=Math.ceil(d)-1,m=Math.ceil(m)-1):(d=Math.floor(d),m=Math.floor(m)),y(r,d,m,i)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,o,i){var r=this.getOrigin(n),s=this.getResolution(n),a=f(this.getTileSize(n),this.tmpSize_),c=o?.5:0,l=o?.5:0,u=Math.floor((t-r[0])/s+c),h=Math.floor((r[1]-e)/s+l),p=u/a[0],d=h/a[1];return o?(p=Math.ceil(p)-1,d=Math.ceil(d)-1):(p=Math.floor(p),d=Math.floor(d)),y(n,p,d,i)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},t.prototype.getZForResolution=function(t,e){var n,o,i,r=function(t,e,n){var o=t.length;if(t[0]<=e)return 0;if(e<=t[o-1])return o-1;var i=void 0;if(n>0){for(i=1;i<o;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<o;++i)if(t[i]<=e)return i}else for(i=1;i<o;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return o-1}(this.resolutions_,t,e||0);return n=r,o=this.minZoom,i=this.maxZoom,Math.min(Math.max(n,o),i)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),o=this.minZoom;o<e;++o)n[o]=this.getTileRangeForExtentAndZ(t,o);this.fullTileRanges_=n},t}();e.default=m}]);
//# sourceMappingURL=aol.min.js.map